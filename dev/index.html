<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Home · PortfolioOpt.jl</title><script data-outdated-warner src="assets/warner.js"></script><link rel="canonical" href="https://andrewrosemberg.github.io/PortfolioOpt.jl/"/><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href>PortfolioOpt.jl</a></span></div><form class="docs-search" action="search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li class="is-active"><a class="tocitem" href>Home</a><ul class="internal"><li><a class="tocitem" href="#Installation"><span>Installation</span></a></li><li><a class="tocitem" href="#PO-Strategies"><span>PO Strategies</span></a></li><li><a class="tocitem" href="#VolumeMarket"><span>VolumeMarket</span></a></li><li><a class="tocitem" href="#TestUtils"><span>TestUtils</span></a></li><li><a class="tocitem" href="#Contents"><span>Contents</span></a></li></ul></li><li><a class="tocitem" href="robust_po/">Robust PO</a></li><li><span class="tocitem">Examples</span><ul><li><a class="tocitem" href="examples/distributionally_robust_optimization/">Distributionally Robust Portfolio Optimization</a></li><li><a class="tocitem" href="examples/robust_optimization/">Robust Portfolio Optimization</a></li><li><a class="tocitem" href="examples/stochastic_optimization/">Stochastic Portfolio Optimization</a></li></ul></li><li><a class="tocitem" href="api/">API</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Home</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Home</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/andrewrosemberg/PortfolioOpt.jl/blob/master/docs/src/index.md#L" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><div style="width:100%; height:150px;border-width:4px;border-style:solid;padding-top:25px;
        border-color:#000;border-radius:10px;text-align:center;background-color:#99DDFF;
        color:#000">
    <h3 style="color: black;">Star us on GitHub!</h3>
    <a class="github-button" href="https://github.com/andrewrosemberg/PortfolioOpt.jl" data-icon="octicon-star" data-size="large" data-show-count="true" aria-label="Star andrewrosemberg/PortfolioOpt.jl on GitHub" style="margin:auto">Star</a>
    <script async defer src="https://buttons.github.io/buttons.js"></script>
</div><h1 id="PortfolioOpt"><a class="docs-heading-anchor" href="#PortfolioOpt">PortfolioOpt</a><a id="PortfolioOpt-1"></a><a class="docs-heading-anchor-permalink" href="#PortfolioOpt" title="Permalink"></a></h1><p>Simple package with Portfolio Optimization (PO) formulations using <a href="https://github.com/jump-dev/JuMP.jl">JuMP.jl</a>.</p><h2 id="Installation"><a class="docs-heading-anchor" href="#Installation">Installation</a><a id="Installation-1"></a><a class="docs-heading-anchor-permalink" href="#Installation" title="Permalink"></a></h2><pre><code class="language-julia hljs">julia&gt; ] add PortfolioOpt</code></pre><h2 id="PO-Strategies"><a class="docs-heading-anchor" href="#PO-Strategies">PO Strategies</a><a id="PO-Strategies-1"></a><a class="docs-heading-anchor-permalink" href="#PO-Strategies" title="Permalink"></a></h2><p>The core functionalities of this package are implementations of risk measures (type <code>PortfolioRiskMeasure</code>) of the random variable representing the next period portfolio return (<code>R = w&#39;r</code>). These are used to define the objective&#39;s terms (type <code>ObjectiveTerm</code>) and risk constraints (type <code>RiskConstraint</code>) of a PO formulation (type <code>PortfolioFormulation</code>). As with realistic applications, the decision maker might only have limited information about the individual asset returns, so their uncertainty may be described in different ways:</p><p>Currently acceptable uncertainty types:</p><ul><li>Point distributions (type <code>Dirac</code>) if the decision maker has absolute certainty of the PO returns;</li><li>Any continuous multivariate distribution (type <code>Sampleable{Multivariate, Continuous}</code>) if the decision maker can confidently estimate the distribution for the next period&#39;s returns;</li><li>Distributionally robust ambiguity sets if a set of distributions may be be the true distribution:<ul><li>type <code>MomentUncertainty</code>,</li><li>type <code>DuWassersteinBall</code>.</li></ul></li><li>Robust uncertainty sets if the decision maker can only infer the support of the true distribution (also viewed as distributionally robust ambiguity sets containting just single point distributions):<ul><li>type <code>BudgetSet</code>,</li><li>type <code>EllipticalSet</code>.</li></ul></li></ul><p>Currently implemented <code>PortfolioRiskMeasure</code>s are: </p><ul><li>Expected return (<code>ExpectedReturn</code>),</li><li><code>Variance</code>,</li><li>Square root of the portfolio variance (<code>SqrtVariance</code>, i.e., Standard Deviation),</li><li>Conditional expected return (<code>ConditionalExpectedReturn</code>) - also called Conditional Value at Risk (CVAR) or (Expected Shortfall),</li><li>Expected utility (<code>ExpectedUtility</code>) which computes the expected value of a specified (hopefully concave) utility function (<code>ConcaveUtilityFunction</code>):<ul><li>the only implemented one is the piece-wise concave utility function <code>PieceWiseUtility</code>.</li></ul></li></ul><p>The <code>PortfolioRiskMeasure</code>s can be used to define both the <code>RiskConstraint</code>s and the <code>ObjectiveTerm</code>s in a <code>PortfolioFormulation</code> that can be parsed into details of a <code>JuMP.Model</code> using the <code>portfolio_model!</code> function.</p><p>In addition, <code>ObjectiveTerm</code>s can also be <code>ConeRegularizer</code>s defined by a cone set (e.g. <code>norm-2</code>) and a linear transformation (default Identity).</p><h2 id="VolumeMarket"><a class="docs-heading-anchor" href="#VolumeMarket">VolumeMarket</a><a id="VolumeMarket-1"></a><a class="docs-heading-anchor-permalink" href="#VolumeMarket" title="Permalink"></a></h2><p>The <code>portfolio_model!</code> modifies an existing model <code>JuMP.Model</code> with decision variables already created and which, ideally, are already bounded by budget and bound constraints. In order to help users define market constraints, fees and clearing processess, this package also implements an interface with <code>OptimalBids.jl</code> (a framework for working with generic markets) through a simple market type called <code>VolumeMarket</code>.</p><p><code>VolumeMarket</code> represents market models that only allow the strategic agent to bid at market price, thus their decision is restricted to the amount/volume traded of each of the available assets.</p><p>The current implementation allows the user to specify:</p><ul><li><code>budget::Real</code>: Total amount of resources/volume that can be invested (usually the sum the vector of individual invested amounts or the 1-norm of it);</li><li><code>volume_fee::Real</code>: Cost per unit of volume invested;</li><li><code>allow_short_selling::Bool</code>: If true allows decision variables to be negative; </li><li><code>risk_free_rate::Real</code>: Risk free return (known return of the money not invested).</li></ul><p>Once an instance of a <code>VolumeMarket</code> is defined, one can call <code>market_model</code> to create a <code>JuMP.Model</code> with the equivalent constraints, objective terms and variables created. Moreover, after the strategic objective terms and constraints are added on top of this model, it can be passed to the <code>change_bids!</code> together with the <code>VolumeMarket</code> object to modify the <code>volume_bids::Vector{Real}</code>. Alternatively, <code>change_bids!</code> can receive the already calculated bids (if chosen elsewhere) or even just the <code>PortfolioFormulation</code>, leaving the work of creating the <code>JuMP.Model</code> and adding all constraints and objective terms (market based or strategy based) to this function.</p><p>A market with already defined strategic bids, i.e. <code>volume_bids</code>, can be cleared using the function <code>clear_market!</code> that receives the <code>VolumeMarket</code> and the <code>clearing_prices::Vector{Real}</code>.</p><p>To help backtesting, a type <code>VolumeMarketHistory</code> was created to contain:</p><ul><li><code>market::VolumeMarket</code>: The underlying market specifications;</li><li><code>history_clearing_prices</code>: The vector of vectors representing the historical returns for all assets with index vector <code>timestamp</code>;</li><li><code>history_risk_free_rates</code>: The vector of risk-free rates with index vector <code>timestamp</code>;</li><li><code>timestamp</code>: timestamps indexing the historical asset and risk-free returns;</li></ul><p>Instances of <code>VolumeMarketHistory</code> are the input of <code>sequential_backtest_market</code>: a function that provides a basic backtest using provided strategy and <code>VolumeMarketHistory</code> for a specified <code>date_range</code> (that needs to have the same <code>eltype</code> as <code>timestamp</code>).</p><h2 id="TestUtils"><a class="docs-heading-anchor" href="#TestUtils">TestUtils</a><a id="TestUtils-1"></a><a class="docs-heading-anchor-permalink" href="#TestUtils" title="Permalink"></a></h2><p>As an extra, some testing utilities are available through the submodule called <code>TestUtils</code>:</p><ul><li><code>get_test_data</code>: returns a TimeArray of Prices for 6 assets.</li><li><code>mean_variance</code>: returns the mean and variance of a array of returns.</li><li><code>max_sharpe</code>: portfolio optimization that maximizes the sharp ratio.</li></ul><h2 id="Contents"><a class="docs-heading-anchor" href="#Contents">Contents</a><a id="Contents-1"></a><a class="docs-heading-anchor-permalink" href="#Contents" title="Permalink"></a></h2><ul><li><a href="robust_po/#Robust-Portfolio-Optimization">Robust Portfolio Optimization</a></li><li class="no-marker"><ul><li><a href="robust_po/#Motivation">Motivation</a></li><li><a href="robust_po/#Background">Background</a></li><li><a href="robust_po/#Problem-Definition">Problem Definition</a></li><li><a href="robust_po/#References">References</a></li></ul></li><li><a href="api/#Api">Api</a></li><li class="no-marker"><ul><li><a href="api/#PortfolioOpt">PortfolioOpt</a></li><li><a href="api/#TestUtils">TestUtils</a></li></ul></li></ul></article><nav class="docs-footer"><a class="docs-footer-nextpage" href="robust_po/">Robust PO »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.25 on <span class="colophon-date" title="Sunday 4 February 2024 02:30">Sunday 4 February 2024</span>. Using Julia version 1.10.0.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
